<div class="lb-swiper-stories">
  <div class="lb-swiper-stories-holder">
    {% for block in section.blocks %}
      <a href="{{ block.settings.url }}">
        <div {% if block.settings.highlight == true %}class="lb-swiper-highlight"{% endif %}>
          <img src="{{ block.settings.image | img_url: '200x' }}" alt="{{ block.settings.heading }}">
        </div>
        <span>{{ block.settings.heading }}</span>
      </a>
    {% endfor %}
  </div>
</div>

<style>
  {% assign schriftart = section.settings.schriftart %}
  {{ section.settings.schriftart | font_face }}

  .lb-swiper-stories {
    background: {{ section.settings.background-color }} !important;
    display: none;
  }

  @media only screen and (max-width: {{ section.settings.max-show-range }}px) {
    .lb-swiper-stories {
      display: block !important;
    }
  }

  .lb-swiper-stories-holder {
    max-width: 100% !important;
    padding: 18px 0 !important;
    margin: auto !important;
    text-align: center !important;
    overflow: auto !important;
    white-space: nowrap !important;
    -ms-overflow-style: none; /* IE und Edge */
    scrollbar-width: none; /* Firefox */
  }

  .lb-swiper-stories-holder::-webkit-scrollbar {
    display: none;
  }

  .lb-swiper-stories a:first-child {
    margin-left: 9px !important;
  }

  .lb-swiper-stories a {
    max-width: {{ section.settings.desktop-size }}px !important;
    width: 100% !important;
    display: inline-block !important;
    margin-right: {{ section.settings.desktop-distance }}px !important;
    font-size: {{ section.settings.fontsize }}px !important;
    line-height: 20px !important;
    color: {{ section.settings.schriftfarbe }} !important;
    font-weight: 600 !important;
    font-family: {{ section.settings.schriftart.family }}, {{ schriftart.fallback_families }} !important;
    text-decoration: none !important;
  }

  .lb-swiper-stories a div {
    display: block !important;
    width: 100% !important;
    margin-bottom: 5px !important;
    position: relative !important;
  }

  .lb-swiper-stories a div img {
    width: 100% !important;
    display: block !important;
    border-radius: {{ section.settings.abgerundete_ecken }}px !important;
    overflow: hidden !important;
  }

  .lb-swiper-highlight:after {
    content: ' ' !important;
    border: 1.5px solid {{ section.settings.highlight-color }} !important;
    border-radius: {{ section.settings.abgerundete_ecken }}px !important;
    z-index: 2 !important;
    width: 110% !important;
    height: 110% !important;
    position: absolute !important;
    top: -5% !important;
    left: -5% !important;
  }

  /* ðŸš€ Mobile Optimierung */
  @media only screen and (max-width: 600px) {
    .lb-swiper-stories a {
      max-width: 30% !important; /* 3 Elemente pro Reihe */
      margin-right: 2% !important; /* Abstand zwischen den Elementen */
    }

    .lb-swiper-stories a div {
      width: 100% !important;
      margin-bottom: 8px !important; /* Mehr Abstand zwischen Bild & Text */
    }

    .lb-swiper-stories a div img {
      border-radius: 50% !important; /* Bilder rund fÃ¼r Story-Look */
    }

    .lb-swiper-stories a span {
      display: block !important;
      font-size: 12px !important; /* Kleinere SchriftgrÃ¶ÃŸe */
      white-space: normal !important;
      word-wrap: break-word !important;
      text-align: center !important;
      line-height: 1.2 !important;
    }
  }
</style>

{% schema %}
{
  "name": {
    "en": "Lb Storie Swiper",
    "de": "Lb Geschichten-Swiper"
  },
  "settings": [
    {
      "type": "color",
      "id": "background-color",
      "default": "#f2f2f2",
      "label": {
        "en": "Background Color",
        "de": "Hintergrundfarbe"
      }
    },
    {
      "type": "text",
      "id": "max-show-range",
      "default": "2400",
      "label": {
        "en": "Maximum Display",
        "de": "Maximale Anzeige"
      }
    },
    {
      "type": "range",
      "id": "abgerundete_ecken",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 100,
      "label": {
        "en": "Image Roundness",
        "de": "Bilder Abrundung"
      }
    }
  ],
  "blocks": [
    {
      "name": {
        "en": "Category",
        "de": "Kategorie"
      },
      "type": "category",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": {
            "en": "Display Image",
            "de": "Anzeigebild"
          }
        },
        {
          "type": "text",
          "id": "heading",
          "default": "Link Name",
          "label": {
            "en": "Link Name",
            "de": "Linkname"
          }
        },
        {
          "type": "url",
          "id": "url",
          "label": {
            "en": "Link URL",
            "de": "Link-URL"
          }
        },
        {
          "type": "checkbox",
          "id": "highlight",
          "label": {
            "en": "Highlight Link",
            "de": "Link hervorheben"
          }
        }
      ]
    }
  ]
}
{% endschema %}
